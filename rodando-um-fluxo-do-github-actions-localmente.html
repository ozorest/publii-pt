<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Rodando um fluxo do Github Actions localmente - zozo.log - pt ğŸ‡§ğŸ‡· ğŸ‡µğŸ‡¹</title><meta name="description" content="Ã‰ isso mesmo que vocÃª leu! Aprenda aqui como rodar um fluxo do Github Actions sem precisar fazer o push do seu cÃ³digo para o repositÃ³rio, diretamente da sua mÃ¡quina."><meta name="generator" content="Publii Open-Source CMS for Static Site"><script type="text/javascript" async src="https://www.googletagmanager.com/gtag/js?id=UA-122991643-1"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'UA-122991643-1' );</script><link rel="canonical" href="https://logs-pt.zozo.dev.br/rodando-um-fluxo-do-github-actions-localmente.html"><link rel="alternate" type="application/atom+xml" href="https://logs-pt.zozo.dev.br/feed.xml"><link rel="alternate" type="application/json" href="https://logs-pt.zozo.dev.br/feed.json"><meta property="og:title" content="Rodando um fluxo do Github Actions localmente"><meta property="og:image" content="https://logs-pt.zozo.dev.br/media/posts/7/65916846.png"><meta property="og:site_name" content="zozo.log - pt ğŸ‡§ğŸ‡· ğŸ‡µğŸ‡¹"><meta property="og:description" content="Ã‰ isso mesmo que vocÃª leu! Aprenda aqui como rodar um fluxo do Github Actions sem precisar fazer o push do seu cÃ³digo para o repositÃ³rio, diretamente da sua mÃ¡quina."><meta property="og:url" content="https://logs-pt.zozo.dev.br/rodando-um-fluxo-do-github-actions-localmente.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@0zorest"><meta name="twitter:title" content="Rodando um fluxo do Github Actions localmente"><meta name="twitter:description" content="Ã‰ isso mesmo que vocÃª leu! Aprenda aqui como rodar um fluxo do Github Actions sem precisar fazer o push do seu cÃ³digo para o repositÃ³rio, diretamente da sua mÃ¡quina."><meta name="twitter:image" content="https://logs-pt.zozo.dev.br/media/posts/7/65916846.png"><link rel="shortcut icon" href="https://logs-pt.zozo.dev.br/media/website/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://logs-pt.zozo.dev.br/assets/css/style.css?v=884be5606e98096c97a6165856294672"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://logs-pt.zozo.dev.br/rodando-um-fluxo-do-github-actions-localmente.html"},"headline":"Rodando um fluxo do Github Actions localmente","datePublished":"2022-06-13T23:55","dateModified":"2022-06-13T23:55","image":{"@type":"ImageObject","url":"https://logs-pt.zozo.dev.br/media/posts/7/65916846.png","height":400,"width":400},"description":"Ã‰ isso mesmo que vocÃª leu! Aprenda aqui como rodar um fluxo do Github Actions sem precisar fazer o push do seu cÃ³digo para o repositÃ³rio, diretamente da sua mÃ¡quina.","author":{"@type":"Person","name":"Thiago (ZozÃ´) Ozores ğŸ‡§ğŸ‡·","url":"https://logs-pt.zozo.dev.br/authors/thiago-ozores/"},"publisher":{"@type":"Organization","name":"Thiago (ZozÃ´) Ozores ğŸ‡§ğŸ‡·"}}</script></head><body><div class="container js-container"><nav class="menu"><ul class="navbar__menu"><li><a href="https://zozo.dev.br" title="Siga-me!" target="_blank">Siga-me!</a></li></ul></nav><div class="content"><header class="top"><div class="top__item"><a class="logo" href="https://logs-pt.zozo.dev.br/">zozo.log - pt ğŸ‡§ğŸ‡· ğŸ‡µğŸ‡¹</a></div><div class="top__item top__item--right"><button class="menu-toggle js-menu-toggle" aria-label="Menu" aria-expanded="false"><span class="menu-toggle-box"><span class="menu-toggle-inner">Menu</span></span></button></div></header><main class="main"><article class="post"><div class="main__left"><figure class="hero"><img src="https://logs-pt.zozo.dev.br/media/posts/7/65916846.png" srcset="https://logs-pt.zozo.dev.br/media/posts/7/responsive/65916846-xs.png 300w, https://logs-pt.zozo.dev.br/media/posts/7/responsive/65916846-sm.png 480w, https://logs-pt.zozo.dev.br/media/posts/7/responsive/65916846-md.png 768w, https://logs-pt.zozo.dev.br/media/posts/7/responsive/65916846-lg.png 1024w, https://logs-pt.zozo.dev.br/media/posts/7/responsive/65916846-xl.png 1280w, https://logs-pt.zozo.dev.br/media/posts/7/responsive/65916846-2xl.png 1600w" sizes="(min-width: 1800px) 50vw, (min-width: 900px) 40vw, 100vw" loading="eager" height="400" width="400" alt=""></figure><header><h1>Rodando um fluxo do Github Actions localmente</h1><p><time datetime="2022-06-13T23:55">13 jun 2022 </time>by <a href="https://logs-pt.zozo.dev.br/authors/thiago-ozores/" rel="author" title="Thiago (ZozÃ´) Ozores ğŸ‡§ğŸ‡·">Thiago (ZozÃ´) Ozores ğŸ‡§ğŸ‡·</a></p></header></div><div class="main__right"><div class="post__entry"><p>Ã‰ isso mesmo que vocÃª leu! Aprenda aqui como rodar um fluxo do Github Actions sem precisar fazer o push do seu cÃ³digo para o repositÃ³rio, diretamente da sua mÃ¡quina.</p><p><a href="https://logs-en.zozo.dev.br/running-the-github-actions-workflows-locally.html">In English ğŸ‡ºğŸ‡¸ ğŸ‡¬ğŸ‡§</a></p><p>A ferramenta que nos brinda com essa possibilidade de economizar tempo, nÃ£o nos repetirmos (jÃ¡ que eu nÃ£o preciso desenvolver um outro fluxo local) e ter um rÃ¡pido retorno (e tambÃ©m nÃ£o gastar os 2000 minutos gratuitos Ã  toa ğŸ˜ƒ), se chama <a href="https://github.com/nektos/act" title="act" target="_blank" rel="noopener noreferrer">act</a>.</p><h3>Como funciona</h3><p>Ela funciona lendo seus scripts yaml do Github Actions contidos no diretÃ³rio <code>.github/workflows/</code>e usando a API do Docker para baixar as imagens correspondentes a cada action definida no script e depois de determinada as dependÃªncias e a trilha de execuÃ§Ã£o, novamente ela usa a API do Docker para executar as actions usando as imagens previamente baixadas.</p><h3>Instalando</h3><h4>PrÃ©-requisitos</h4><ul><li>Engine do Docker instalado (um pouco Ã³bvio, nÃ© ğŸ˜ƒ)<ul><li>Posso usar o podman ou outra engine?<ul><li>Na documentaÃ§Ã£o, os desenvolvedores falam que pode funcionar, mas eles nÃ£o garantem, mas por exemplo, no meu caso eu estou usando o podman sem problemas, mas tive que instalar o pacote <strong>podman-docker </strong>na minha distro.</li></ul></li></ul></li></ul><h4>Rodando o script de instalaÃ§Ã£o</h4><p>Para instalar em qualquer distro (e Mac) basta rodar o comando abaixo:</p><pre>curl https://raw.githubusercontent.com/nektos/act/master/install.sh <span class="pl-k">|</span> sudo bash</pre><p>Para Windows, vÃ¡ atÃ© a pÃ¡gina de <a href="https://github.com/nektos/act/releases/latest" title="releases" target="_blank" rel="noopener noreferrer">releases</a> do projeto e faÃ§a download do zip que correspondente a sua arquitetura</p><h3>Comandos de exemplo</h3><pre><strong>act [&lt;event&gt;] [options]</strong><br># Se nenhum &lt;event&gt; for passado, o padrÃ£o serÃ¡ "on: push"<br><br><strong>act</strong><br># Para rodar o fluxo usando o evento padrÃ£o<br><br><strong>act -l</strong><br># Lista os fluxos do evento padrÃ£o<br><br><strong>act workflow_dispatch -l</strong><br># Lista os fluxos do evento workflow_dispatch (evento de execuÃ§Ã£o manual dentro do Github Actions)<br><br><strong>act pull_request</strong><br># Roda os fluxos relacionados ao evento pull_request<br><br><strong>act workflow_dispatch</strong><br># Roda os fluxos relacionados ao evento workflow_dispatch<br><br><strong>act -j teste</strong><br># Roda um job especÃ­fico do evento padrÃ£o<br><br><strong>act -n</strong><br># Roda no modo dry-run no evento padrÃ£o<br><br><strong>act -v</strong><br># Roda, ativando o modo verboso dos logs para o evento padrÃ£o<br><br><strong>act -P &lt;imagem&gt;</strong><br># Para trocar, se necessÃ¡rio uma imagem padrÃ£o de uma action<br><br><strong>act -s minha_secret=abcde</strong><br># Para simular as secrets do Github Actions (tambÃ©m Ã© possÃ­vel simular criando no diretÃ³rio de trabalho um arquivo chamado .secrets, que ele Ã© lido automaticamente pelo act)</pre><h3>Demo</h3><p><script id="asciicast-501439" src="https://asciinema.org/a/501439.js" async=""></script></p><p>Concluindo, na minha opiniÃ£o Ã© uma ferramenta mais do que necessÃ¡ria para aqueles que trabalham no dia-a-dia com o Github Actions, claro que nem tudo Ã© perfeito nem sempre ela consegue simular 100% do comportamento do ambiente, Ã s vezes sÃ£o necessÃ¡rias algumas adaptaÃ§Ãµes, mas com certeza Ã© uma ferramenta para vocÃª ter no seu cinto de utilidades se vocÃª trabalha com o Github.Â </p><footer><div class="post__tag-share"><ul class="post__tag"><li><a href="https://logs-pt.zozo.dev.br/tags/cicd/">cicd</a></li><li><a href="https://logs-pt.zozo.dev.br/tags/docker/">docker</a></li><li><a href="https://logs-pt.zozo.dev.br/tags/github/">github</a></li></ul><div class="post__share"><a href="https://twitter.com/share?url=https%3A%2F%2Flogs-pt.zozo.dev.br%2Frodando-um-fluxo-do-github-actions-localmente.html&amp;via=%400zorest&amp;text=Rodando%20um%20fluxo%20do%20Github%20Actions%20localmente" class="js-share twitter" aria-label="Share with Twitter" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://logs-pt.zozo.dev.br/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Flogs-pt.zozo.dev.br%2Frodando-um-fluxo-do-github-actions-localmente.html" class="js-share linkedin" aria-label="[MISSING TRANSLATION] Share with LinkedIn" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://logs-pt.zozo.dev.br/assets/svg/svg-map.svg#linkedin"/></svg></a></div></div><div class="post__bio"><img src="https://logs-pt.zozo.dev.br/media/website/profile.png" loading="lazy" height="128" width="128" alt="Thiago (ZozÃ´) Ozores ğŸ‡§ğŸ‡·"><h3><a href="https://logs-pt.zozo.dev.br/authors/thiago-ozores/" title="Thiago (ZozÃ´) Ozores ğŸ‡§ğŸ‡·">Thiago (ZozÃ´) Ozores ğŸ‡§ğŸ‡·</a></h3><p>Site Reliability Engineer / Entusiasta Python / Entusiasta de tecnologias Open Source. Conhecimento nÃ£o compartilhado Ã© conhecimento jogado fora</p></div></footer></div></div></article><div class="main__right"><div class="comments"><div class="comments-wrapper"><h2>ComentÃ¡rios</h2><div id="cusdis_thread" data-host="https://cusdis.com" data-app-id="163cabf1-5269-47eb-ae8d-05a4b4b8a543" data-page-id="7" data-page-url="https://logs-pt.zozo.dev.br/rodando-um-fluxo-do-github-actions-localmente.html" data-page-title="Rodando um fluxo do Github Actions localmente" data-theme="light"></div><noscript>Please enable JS to use the comments form.</noscript><script type="text/javascript">var cusdis_element_to_check = document.getElementById('cusdis_thread');

				if ('IntersectionObserver' in window) {
					var iObserver = new IntersectionObserver(
						(entries, observer) => {
							entries.forEach(entry => {
								if (entry.intersectionRatio >= 0.1) {
									(function () {
										var d = document, s = d.createElement('script');
										s.defer = true;
										s.src = 'https://cusdis.com/js/cusdis.es.js';									
										(d.head || d.body).appendChild(s);
									})();
									observer.unobserve(entry.target);
								}
							});
						},
						{
							threshold: [0, 0.2, 0.5, 1]
						}
					);

					iObserver.observe(cusdis_element_to_check);
				} else {
					(function () {
						var d = document, s = d.createElement('script');
						s.defer = true;
						s.src = 'https://cusdis.com/js/cusdis.es.js';
						(d.head || d.body).appendChild(s);
					})();
				}</script><script type="text/javascript"></script></div></div></div></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div></footer></div></div><script defer="defer" src="https://logs-pt.zozo.dev.br/assets/js/scripts.min.js?v=babd20e2a0a25821e63a0529c9feaae0"></script><script>var images = document.querySelectorAll('img[loading]');
   
           for (var i = 0; i < images.length; i++) {
               if (images[i].complete) {
                   images[i].classList.add('is-loaded');
               } else {
                   images[i].addEventListener('load', function () {
                       this.classList.add('is-loaded');
                   }, false);
               }
           }</script></body></html>